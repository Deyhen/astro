---
import PhoneInput from '../PhoneInput/PhoneInput.astro';
import './lead-modal.css';
---

<div
  id="lead-modal-backdrop"
  class="lead-modal-backdrop"
  role="dialog"
  aria-modal="true"
  aria-labelledby="lead-modal-title"
  aria-hidden="true"
>
  <div class="lead-modal" data-modal-inner>
    <button type="button" class="lead-close-btn" data-close-lead aria-label="Закрыть форму">
      ✕
    </button>

    <h2 id="lead-modal-title" class="lead-modal-title">
      Оставьте заявку —<br class="hide-mobile" />
      привезём авто из Европы под ключ
    </h2>

    <p class="lead-modal-subtitle">
      Расскажите, какой автомобиль вы ищете — мы подберём лучшие варианты и рассчитаем стоимость с
      доставкой и оформлением.
    </p>

    <form class="lead-modal-form" id="lead-modal-form">
      <div class="controls">
        <div class="input-wrapper">
          <label class="sr-only" for="lead-name">Ваше имя</label>
          <input id="lead-name" name="name" type="text" class="lead-input" placeholder="Ваше имя" />
          <div class="error-message"><span></span></div>
        </div>

        <div class="input-wrapper">
          <label class="sr-only" for="lead-phone">Телефон</label>
          <PhoneInput id="lead-phone" name="phone" class="lead-phone-input" />
          <div class="error-message"><span></span></div>
        </div>

        <div class="input-wrapper">
          <label class="sr-only" for="lead-car">Марка / модель авто</label>
          <input
            data-optional
            id="lead-car"
            name="car"
            type="text"
            class="lead-input"
            placeholder="Марка / модель авто"
          />
        </div>
      </div>

      <button type="submit" class="lead-submit">Отправить заявку</button>
    </form>

    <p class="lead-consent">
      Отправляя заявку, вы даете свое согласие<br />
      на
      <a href="/policy" target="_blank" rel="noopener noreferrer">
        обработку персональных данных
      </a>
      .
    </p>
  </div>
</div>

<script>
  import { initLeadModal } from './lead-modal.ts';
  initLeadModal();
</script>
